<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title style="margin-left: -20px;">Registro de Usuario</ion-title>
    <ion-buttons slot="end">
      <ion-back-button text="atras"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
  
</ion-header>

<ion-content>
  <form [formGroup]="registerForm" (ngSubmit)="crearUsuario()">
    <ion-grid>
      <div style="text-align:center;color: white">
            <h3 >Crea tu cuenta</h3>
          </div>
      <ion-row color="primary" justify-content-center>
        <ion-col >
          
          <div padding>
            <ion-item lines="full">
              <ion-input formControlName="nombre" type="text" label="Nombre" required></ion-input>
            </ion-item>
            <ion-item>
              <ion-input formControlName="apellido" type="text" placeholder="Apellido" required></ion-input>
            </ion-item>
            <ion-item>
              <ion-input formControlName="fechaDeNacimiento" type="date" placeholder="Fecha de nacimiento" required></ion-input>
            </ion-item>
            <ion-item>
              <ion-input formControlName="correo" type="email" placeholder="Correo electrónico" required pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$"></ion-input>
            </ion-item>

            <ion-item>
              <ion-input formControlName="contrasenia" type="password" placeholder="Contraseña" required 
                         (ionBlur)="hidePasswordValidationMessage()" (ionFocus)="showPasswordValidationMessage()"></ion-input>
            </ion-item>
            <div *ngIf="showPasswordValidation" class="validation-message">
              La Contraseña debe contener números, caracteres y al menos un signo [!&#64;#$%^&*()_+-], además de tener una longitud mínima de 8 caracteres.
            </div>
            
            <ion-item>
              <ion-input formControlName="repetir_contrasenia" type="password" placeholder="Repetir contraseña" required></ion-input>
            </ion-item>
            
            <ion-item>
              <ion-input formControlName="numeroCelular" type="number" placeholder="Celular"></ion-input>
            </ion-item>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-button type="submit" expand="block" color="success" [disabled]="!registerForm.valid">Registrarse</ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </form>

</ion-content>
